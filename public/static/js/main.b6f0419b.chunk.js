(this.webpackJsonpohmyhome=this.webpackJsonpohmyhome||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),s=a.n(o),c=(a(37),a(6)),l=a(7),i=a(9),u=a(8),m=a(10),p=a.n(m),h=new(function(){function e(){Object(c.a)(this,e),this.auth=p.a.create({baseURL:"https://ohmyhome2.herokuapp.com/api",withCredentials:!0})}return Object(l.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.namegroup;return this.auth.post("/auth/signup",{username:t,password:a,namegroup:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),g=r.a.createContext(),d=g.Consumer,f=g.Provider,E=function(e){return function(t){Object(i.a)(n,t);var a=Object(u.a)(n);function n(){return Object(c.a)(this,n),a.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(d,null,(function(a){var n=a.login,o=a.signup,s=a.user,c=a.logout,l=a.isLoggedin,i=a.refetchSession;return r.a.createElement(e,Object.assign({login:n,signup:o,user:s,logout:c,isLoggedin:l,refetchSession:i},t.props))}))}}]),n}(r.a.Component)},v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0},e.signup=function(t){var a=t.username,n=t.password,r=t.namegroup;return h.signup({username:a,password:n,namegroup:r}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var a=t.response;return e.setState({message:a.data.statusMessage})}))},e.login=function(t){var a=t.username,n=t.password;return h.login({username:a,password:n}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(e){return console.log(e)}))},e.logout=function(){return h.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e.refetchSession=function(){return h.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,o=this.login,s=this.logout,c=this.signup,l=this.refetchSession;return t?r.a.createElement("div",{style:{margin:"auto",width:"400px",textAlign:"center",marginTop:"100px"}},"Loading"):r.a.createElement(f,{value:{isLoggedin:a,user:n,login:o,logout:s,signup:c,refetchSession:l}},this.props.children)}}]),a}(r.a.Component),b=a(13),y=a(12),k=a(11),N=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center",margin:"auto",marginTop:"50px",width:"400px"}},"We couldn't find the page you are looking for \ud83d\ude47")}}]),a}(r.a.Component),O=a(19),j=(a(87),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password,o=t.groupName;p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/auth/signup"),{username:a,password:r,namegroup:o}).then((function(e){console.log("Signup successful: ",e),n.props.refetchSession().then((function(){n.props.history.push("/group-setup")}))})).catch((function(e){console.log("Error during sign up: "),console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)({},a,r))},n.state={username:"",password:"",groupName:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-signup"})),r.a.createElement("div",{className:"container-signup"},r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"container-form"},r.a.createElement("div",null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{name:"username",required:!0,onChange:this.handleChange,type:"text",value:a,placeholder:"Enter username"})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{name:"password",required:!0,onChange:this.handleChange,type:"password",placeholder:"Password",value:n})),r.a.createElement("div",{className:"container-signup-button"},r.a.createElement("button",{className:"button-signup",type:"submit"},"Create"))))),r.a.createElement("div",{className:"container-log"},r.a.createElement("div",{className:"text-log"},r.a.createElement("p",null,"Already have an account?, login instead!")),r.a.createElement("div",null,r.a.createElement("button",{className:"button-login",onClick:function(){return e.props.history.push("/login")},size:"sm",variant:"outline-primary",type:"submit"},"Login"))))}}]),a}(n.Component)),S=E(j),C=(a(88),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/auth/login"),{username:a,password:r}).then((function(){window.location.reload(),console.log("login successful")}),(function(){console.log("problem login in")}))},n.state={username:"",password:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.isLoggedin&&this.props.history.push("/tasks")}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-signup"})),r.a.createElement("div",{className:"container-login"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{required:!0,name:"username",onChange:this.handleChange,type:"text",value:a,placeholder:"Enter username"})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{name:"password",required:!0,onChange:this.handleChange,type:"password",placeholder:"Password",value:n})),r.a.createElement("div",{className:"container-login-button"},r.a.createElement("button",{className:"button-log",type:"submit"},"Login")))),r.a.createElement("div",{className:"container-sign"},r.a.createElement("div",{className:"text-sign"},r.a.createElement("p",null,"Don't have an account? Create one!")),r.a.createElement("div",null,r.a.createElement("button",{className:"button-sign",onClick:function(){return e.props.history.push("/signup")},size:"sm",variant:"outline-primary",type:"submit"},"Sign up"))))}}]),a}(n.Component)),w=E(C),x=a(31),T=a(106),A=a(51),L=a(107),M=(a(89),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)({},a,r))},n.state={showingCreateGroupSection:!1,showingSelectGroupSection:!1},n}return Object(l.a)(a,[{key:"render",value:function(){this.state.groupName;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("body",{className:"groupSetupPage"})),r.a.createElement(k.a,{path:"/group-setup",exact:!0,component:D}),r.a.createElement(k.a,{path:"/group-setup/create-group",component:E(_)}),r.a.createElement(k.a,{path:"/group-setup/select-group",component:E(I)}))}}]),a}(n.Component)),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-creategroup"})),r.a.createElement("div",{className:"container-setup"},r.a.createElement("h5",{style:{textAlign:"center"}},"Lets get the group setup!"),r.a.createElement("div",{className:"select-group"},r.a.createElement("p",null,"Do you already have a group?"),r.a.createElement("div",{className:"container-button-group"},r.a.createElement("button",{className:"button-group",onClick:function(){return e.props.history.push("/group-setup/select-group")},variant:"primary",type:"submit"},"Select an existing one"))),r.a.createElement("div",{className:"create-group"},r.a.createElement("p",null,"Or do you want to create a new one?"),r.a.createElement("div",{className:"container-button-creategroup"},r.a.createElement("button",{className:"button-creategroup",onClick:function(){return e.props.history.push("/group-setup/create-group")},variant:"primary",type:"submit"},"Create new group")),r.a.createElement("div",{className:"back-tosign"},r.a.createElement("button",{className:"button-backsign"},r.a.createElement(y.b,{style:{color:"#8A6FDF"},to:"/signup"},"Back"))))))}}]),a}(r.a.Component),_=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state.groupName;p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/group/creategroup"),{groupName:t,userId:n.props.user._id}).then((function(e){console.log("Group creation successful: ",e),n.props.refetchSession().then((function(){n.props.history.push("/tasks")}))})).catch((function(e){console.log("Error when creating group "),console.log(e)}))},n.state={groupName:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-createnewgroup"})),r.a.createElement("div",{className:"container-create-newgroup"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Group Name:"),r.a.createElement("input",{name:"groupName",onChange:function(t){return e.setState({groupName:t.target.value})},type:"text",value:this.state.groupName,placeholder:"Enter group name"}),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("button",{className:"button-backgroup",onClick:function(){return e.props.history.push("/group-setup")}},"Back"),r.a.createElement("button",{className:"button-creategroup",type:"submit"},"Create")))))}}]),a}(r.a.Component),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state.selected;p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/group/assignUser"),{groupName:t,userId:n.props.user._id}).then((function(e){console.log("Group assigning successful: ",e),n.props.refetchSession().then((function(){n.props.history.push("/tasks")}))})).catch((function(e){console.log("Error when assigning group "),console.log(e)}))},n.state={groups:[],selected:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://ohmyhome2.herokuapp.com/api","/group")).then((function(t){e.setState({groups:t.data})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-existgroup"})),r.a.createElement("div",{className:"container-current"},r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold"}},"Take a look at the current groups and find the one you want to join!"),r.a.createElement("div",{style:{marginBottom:"40px"}}),r.a.createElement(T.a,null,r.a.createElement(A.a,null,r.a.createElement(L.a,null,r.a.createElement(L.a.Toggle,{variant:"light",id:"dropdown-basic"},this.state.selected?this.state.selected:"Select your group"),r.a.createElement(L.a.Menu,null,this.state.groups.map((function(t){return r.a.createElement(L.a.Item,{key:t.groupName,onClick:function(){return e.setState({selected:t.groupName})}},t.groupName)}))))),r.a.createElement(A.a,null,r.a.createElement("div",{className:"container-selectbuttons"},r.a.createElement("div",null,r.a.createElement("button",{className:"button-joingroup",disabled:!this.state.selected,variant:"primary",type:"submit"},"Join")),r.a.createElement("div",null,r.a.createElement("button",{className:"button-back",onClick:function(){return e.props.history.push("/group-setup")}},"Back"))))))))}}]),a}(r.a.Component),G=E(M),F=(a(94),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.logout().then((function(){e.props.history.push("/"),window.location.reload()}))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.props.isLoggedin?r.a.createElement("div",{className:"header"},r.a.createElement("ul",{className:"list-header"},r.a.createElement("li",null,r.a.createElement("button",{className:"logout-button"},r.a.createElement(y.b,{style:{color:"#FFDB15"},to:"/tasks"},r.a.createElement("i",{className:"icon-back",class:"fas fa-arrow-left"})))),r.a.createElement("li",null,r.a.createElement("button",{className:"logout-button",onClick:this.handleLogout},"Logout")))):r.a.createElement("div",null,"Header")}}]),a}(r.a.Component)),P=Object(k.f)(E(F)),R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.title;n.props.addTask(t),n.setState({title:""})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)({},a,r))},n.state={title:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-createTask"},r.a.createElement(x.a,{onSubmit:this.handleFormSubmit},r.a.createElement(x.a.Group,{controlId:"formBasicEmail"},r.a.createElement(x.a.Control,{type:"text",name:"title",required:!0,value:this.state.title,style:{boxShadow:"rgba(84, 70, 35, 0.15) 0px 2px 8px, rgba(84, 70, 35, 0.15) 0px 1px 3px, rgba(255, 255, 255, 0.5) 0px 0px 0px 1px"},onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"container-create"},r.a.createElement("button",{className:"button-create",type:"submit",value:"submit"},"Create")))))}}]),a}(n.Component),U=a(23),W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleAssignRandomTask=function(t){e.props.assignTask(t)},e.getAssignedText=function(e){return e.user&&e.user.username?e.user.username:""},e.isAssigned=function(e){return!!e.user},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-alltasks"},this.props.listOfTasks.map((function(t){return r.a.createElement("div",{key:t._id,style:{padding:"8px 0"}},r.a.createElement("div",{className:"containertask-create",style:{fontSize:"16px",display:"flex",alignItems:"center",padding:"10px",backgroundColor:"white",borderRadius:"4px",boxShadow:"rgba(84, 70, 35, 0.15) 0px 2px 8px, rgba(84, 70, 35, 0.15) 0px 1px 3px, rgba(255, 255, 255, 0.5) 0px 0px 0px 1px"}},r.a.createElement("span",{className:"prueba"},t.title),r.a.createElement("div",{style:{marginRight:"5px"}}),r.a.createElement("div",{className:"task-assigned"},r.a.createElement("span",{style:{fontWeight:"bold"}},e.getAssignedText(t)," ")),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(U.a,{disabled:!!e.isAssigned(t),onClick:function(){return e.handleAssignRandomTask(t._id)},size:"sm",variant:"link"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa-random",class:"fas fa-random"}))),r.a.createElement("div",{style:{marginRight:"10px"}}),r.a.createElement("button",{onClick:function(){return e.props.deleteTask(t._id)},className:"delete-button"},"Delete")))}))))}}]),a}(n.Component),H=(a(95),a(96),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.logout().then((function(){e.props.history.push("/"),window.location.reload()}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.props.isLoggedin?r.a.createElement("div",{className:"header"},r.a.createElement("ul",{className:"contains-header"},r.a.createElement("li",null," ",r.a.createElement("button",{className:"logout-button",onClick:function(){return e.props.history.push("/profile")}},r.a.createElement("div",{className:"container-user"},r.a.createElement("div",{className:"container-iconuser"},r.a.createElement("i",{className:"icon-user",class:"far fa-user"})),r.a.createElement("div",null,this.props.user.username)))),r.a.createElement("li",null,r.a.createElement("button",{className:"logout-button",onClick:this.handleLogout},"Logout")))):r.a.createElement("div",null,"Header")}}]),a}(r.a.Component)),J=Object(k.f)(E(H)),q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).fetchTasks=function(){var e=n.props.user.namegroup;p.a.get("".concat("https://ohmyhome2.herokuapp.com/api","/api/tasks/").concat(e)).then((function(e){var t=e.data;n.setState({tasks:t})}))},n.refetchGroup=function(){var e=n.props.user.namegroup;p.a.get("".concat("https://ohmyhome2.herokuapp.com/api","/group/").concat(e)).then((function(e){var t=e.data;n.setState({group:t})}))},n.deleteTask=function(e){p.a.delete("http://localhost:4000/api/tasks/".concat(e)).delete("".concat("https://ohmyhome2.herokuapp.com/api","/api/tasks/").concat(e)).then((function(){n.refetchGroup(),n.fetchTasks()})).catch((function(e){console.log(e)}))},n.addTask=function(e){var t=n.props.user.namegroup;p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/api/tasks"),{title:e,namegroup:t}).then((function(){n.refetchGroup(),n.fetchTasks()})).catch((function(e){return console.log(e)}))},n.assignTask=function(e){var t=Math.floor(Math.random()*n.state.group.users.length),a=n.state.group.users[t];p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/api/tasks/assign"),{taskId:e,userId:a._id}).then((function(){n.refetchGroup(),n.fetchTasks()}))},n.fileOnchange=function(e){var t=e.target.files[0],a=new FormData;a.append("photo",t),p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/photo/upload/").concat(n.state.groupName),a,{withCredentials:!0}).then((function(e){var t=e.data;console.log("aqui esta el grupo:",t),n.setState({group:t})})).catch((function(e){return console.log(e)}))},n.state={group:null,tasks:[],users:[],groupName:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.isLoggedin||this.props.history.push("/login"),this.props.isLoggedin&&(this.setState({groupName:this.props.user.namegroup}),this.refetchGroup(),this.fetchTasks())}},{key:"render",value:function(){var e=this;if(!this.state.group)return"Loading";var t=this.state,a=t.group,n=t.tasks;return r.a.createElement("div",null,r.a.createElement(J,null),r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-tasks"})),r.a.createElement("div",{className:"group-photo"},r.a.createElement("img",{className:"photo",src:this.state.group.imageUrl,alt:""}),r.a.createElement("input",{className:"select-photo",type:"file",onChange:this.fileOnchange})),r.a.createElement("div",{className:"container-tasks"},r.a.createElement("div",{className:"group-name"},r.a.createElement("span",{style:{fontSize:"20px",fontWeight:"bold"}},"ohMyHome: ",this.state.groupName),r.a.createElement("div",null,r.a.createElement("span",null,this.state.users))),r.a.createElement("div",null,r.a.createElement(R,{groupName:a.groupName,addTask:this.addTask,getData:function(){e.refetchGroup(),e.fetchTasks()}}),r.a.createElement(W,{deleteTask:this.deleteTask,listOfTasks:n,assignTask:this.assignTask}))))}}]),a}(r.a.Component),z=E(q),B=(a(97),a(60));function Q(){return r.a.createElement("div",{style:{margin:2}},r.a.createElement(B.a.div,{animate:{rotate:[0,6,0,-6,0]},transition:{loop:1/0},style:{display:"inline-block",originX:"top",originY:"center"}},r.a.createElement("span",{style:{fontSize:"3rem"},role:"img","aria-label":"notification-bell"},"\ud83d\udd14")))}var Y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getProfile=function(){p.a.get("".concat("https://ohmyhome2.herokuapp.com/api","/profile"),{withCredentials:!0}).then((function(e){console.log(e.data),n.setState({profile:e.data})}))},n.state={profile:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"render",value:function(){var e="",t=0,a=this.state.profile;return null!==this.props.user&&(t=this.props.user.penddingMess.length),console.log("CANTIDAD",t),a?(t>0&&(e=r.a.createElement(y.b,{to:"/message/all"},r.a.createElement("div",null,r.a.createElement(Q,null)))),r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("div",{className:"container-profile"},r.a.createElement("div",{className:"name-notifications"},r.a.createElement("div",{className:"hello-container"},r.a.createElement("p",{style:{fontWeight:"bold"}},a.username)),r.a.createElement("div",{className:"pru"},r.a.createElement("div",{className:"bell"},e))),r.a.createElement("div",{className:"profile-tasks"},r.a.createElement("div",{className:"your-tasks"},r.a.createElement("p",{style:{fontWeight:"bold"}},"Your tasks:"),a.tasks.map((function(e){return r.a.createElement("div",{className:"list-profiletasks"},r.a.createElement("div",{className:"tasks-list"},e.title),r.a.createElement("div",null,r.a.createElement(y.b,{to:"/change/".concat(e._id),style:{color:"#FF5765",cursor:"pointer",fontWeight:"bold"}}," ",r.a.createElement("i",{class:"fas fa-undo-alt"}))))}))))))):"Loading..."}}]),a}(n.Component),K=E(Y),V=a(58),Z=a.n(V),X=(a(98),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("body",{className:"home"})),r.a.createElement("div",{className:"contenedor-main"},r.a.createElement("div",{className:"contenedor-foto"},r.a.createElement("img",{className:"fotoCasa",src:Z.a,alt:""})),r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"ohMyHome"))),r.a.createElement("div",{className:"contenedor-botonesHome"},r.a.createElement(y.b,{to:"/signup"},r.a.createElement("button",{className:"button-home"},"New Home")),r.a.createElement(y.b,{to:"/login"},r.a.createElement("button",{className:"button-home2"},"Join Home"))))}}]),a}(n.Component)),$=(a(99),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getAllTasks=function(){console.log(n.props),p.a.get("".concat("https://ohmyhome2.herokuapp.com/api","/api/tasks/").concat(n.state.groupName)).then((function(e){var t=e.data.filter((function(t){return console.log("AQUI RESPUESTA",e.data),t.user._id!=n.props.user._id}));n.setState({listOfTasks:t,selectedTask:t[0].title})}))},n.getThegroup=function(){console.log(n.props),p.a.get("".concat("https://ohmyhome2.herokuapp.com/api","/group/").concat(n.state.groupName)).then((function(e){var t=e.data.users.map((function(e){return e.username}));n.setState({allUsers:t})}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(O.a)({},a,r))},n.handleSelect=function(e){var t=e.target.value;n.setState({selectedTask:t})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.listOfTasks.find((function(e){return e.title===n.state.selectedTask})),a={messageSender:n.props.user._id,messageReceiver:t.user._id,myTask:n.props.match.params.taskId,messageText:n.state.mensaje,taskToChange:t._id};p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/message/createmessage"),a,{withCredentials:!0}).then((function(e){n.props.history.push("/profile")}))},n.state={listOfTasks:[],groupName:n.props.user.namegroup,allUsers:"",mensaje:"",selectedTask:""},console.log("a ver",n.props.user.namegroup),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllTasks(),this.getThegroup()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-change"})),r.a.createElement("div",{className:"container-change"},r.a.createElement("div",{className:"container-titlechange"},r.a.createElement("p",{style:{fontWeight:"bold",textAlign:"center",fontSize:"16px"}},"What task would you like to do?")),this.getThegroup,this.getAllTasks,r.a.createElement("div",{className:"select-task"},r.a.createElement("select",{value:this.state.selectedTask,onChange:this.handleSelect},this.state.listOfTasks.map((function(e){return r.a.createElement("option",{key:e._id},e.title)})))),r.a.createElement("div",{className:"contenedor-change"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"general-container"},r.a.createElement("div",{className:"container-willingtodo"},r.a.createElement("p",{style:{textAlign:"center",fontSize:"16px"}},"What are you willing to do?")),r.a.createElement("div",{className:"textArea"},r.a.createElement("textarea",{name:"mensaje",value:this.state.mensaje,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"buttons-container"},r.a.createElement("button",{className:"containersubmit-button"},r.a.createElement("input",{className:"button-sub",type:"submit",value:"Submit"})))))))}}]),a}(n.Component)),ee=E($),te=(a(100),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getAllMessages=function(){console.log("Entra"),p.a.get("".concat("https://ohmyhome2.herokuapp.com/api","/message/all")).then((function(e){var t=e.data.filter((function(e){return console.log("Esta es la data:",e),e.messageReceiver._id===n.props.user._id}));console.log("AQUI RESPUESTA",t),console.log("MENSAJE FILTRADO",t.messageSender),n.setState({listOfMessages:t})}))},n.acceptChange=function(e,t,a,r,o){console.log("Entra"),p.a.post("".concat("https://ohmyhome2.herokuapp.com/api","/api/tasks/reassign"),{myTaskId:e,yourTaskId:t,userFromId:a,userToId:r},{withCredentials:!0}).then((function(){n.deleteMessage(o)})).catch((function(e){console.log(e)}))},n.deleteMessage=function(e){p.a.delete("".concat("https://ohmyhome2.herokuapp.com/api","/message/deletemessage/").concat(e)).then((function(){n.getAllMessages()})).catch((function(e){console.log(e)}))},n.state={listOfMessages:[],messageSender:"",myTask:"",messageText:"",taskToChange:""},console.log("a ver QUE PIJA HAY ACA",n.state),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllMessages()}},{key:"render",value:function(){var e=this;return console.log("esto",this.state.listOfMessages),r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(b.a,null,r.a.createElement("body",{className:"body-message"})),r.a.createElement("div",{className:"general-container-messages"},r.a.createElement("div",{className:"message-title"}),r.a.createElement("div",null,this.state.listOfMessages.map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement("div",{className:"container-message-task"},r.a.createElement("p",{style:{fontWeight:"bold"}},"From: ",t.messageSender.username),r.a.createElement("p",null,"Want to change: ",t.myTask.title),r.a.createElement("p",null,"For: ",t.taskToChange.title),r.a.createElement("p",null,"Offert: ",t.messageText),r.a.createElement("div",{className:"containerreject-button"},r.a.createElement("button",{className:"reject-button",onClick:function(){return e.acceptChange(t.myTask._id,t.taskToChange._id,t.messageSender._id,t.messageReceiver._id,t._id)}},"Accept"),r.a.createElement("button",{className:"accept-button",onClick:function(){return e.deleteMessage(t._id)}},"Are you kidding me?"))))})))))}}]),a}(n.Component)),ae=E(te);p.a.defaults.withCredentials=!0;var ne=function(){return r.a.createElement(v,null,r.a.createElement(b.a,null,r.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css",integrity:"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z",crossorigin:"anonymous"})),r.a.createElement(y.a,null,r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/signup",component:S}),r.a.createElement(k.a,{path:"/login",component:w}),r.a.createElement(k.a,{path:"/group-setup",component:G}),r.a.createElement(k.a,{path:"/tasks",component:z}),r.a.createElement(k.a,{path:"/profile",component:K}),r.a.createElement(k.a,{path:"/change/:taskId",component:ee}),r.a.createElement(k.a,{path:"/message/:id",component:ae}),r.a.createElement(k.a,{path:"/",component:X}),r.a.createElement(k.a,{component:N}))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root"))},37:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/locoppal.ed35d1f4.png"},63:function(e,t,a){e.exports=a(101)},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.b6f0419b.chunk.js.map